"use strict";(self.webpackChunk_uniswap_interface=self.webpackChunk_uniswap_interface||[]).push([[8015,3040],{41556:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i={}},26080:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i={}},31273:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i={}},19752:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i={}},36509:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i={}},18086:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i={}},30569:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i={}},40811:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(84250),o=n(34887),r=n(66112),a=n(39522),s=n(62248),d=n(62200);const l=o.ZP.div`
  z-index: ${({$zIndex:e})=>e??a.k.modalBackdrop};
  overflow: hidden;
  top: 0;
  left: 0;
  position: fixed;
  width: 100%;
  height: 100%;
  background-color: ${({theme:e})=>e.scrim};

  opacity: 0;
  pointer-events: none;
  @media only screen and (max-width: ${({theme:e,$maxWidth:t})=>`${t??e.breakpoint.md}px`}) {
    opacity: ${({$open:e})=>e?1:0};
    pointer-events: ${({$open:e})=>e?"auto":"none"};
    transition: opacity ${({theme:e})=>e.transition.duration.medium} ease-in-out;
  }
`,c=e=>{const{fullWidth:t}=(0,s.F)();return(0,r.useEffect)((()=>(t&&t<d.A.md&&e.$open&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow="visible"})),[e.$open,t]),(0,i.jsx)(l,{...e})}},73794:(e,t,n)=>{n.d(t,{$:()=>a});var i=n(29603),o=n(99192),r=n(33178);function a(e,t,n){const a=(0,r.u)({address:(0,i.c)(t),chainId:n,abi:o.Wo,functionName:"balanceOf",args:e?[e]:void 0,query:{enabled:!!e}}).data;return!!a&&a>0}},28288:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ri});var i=n(84250),o=n(40632),r=n(35872),a=n(81716),s=n(38681),d=n(35252),l=n(39891),c=n(69287);const u={[s.FeeAmount.LOWEST]:{label:"0.01",description:(0,i.jsx)(l.cC,{i18nKey:"fee.bestForVeryStable"}),supportedChains:c.yA},[s.FeeAmount.LOW_200]:{label:"0.02",supportedChains:[c.bI.Base]},[s.FeeAmount.LOW_300]:{label:"0.03",supportedChains:[c.bI.Base]},[s.FeeAmount.LOW_400]:{label:"0.04",supportedChains:[c.bI.Base]},[s.FeeAmount.LOW]:{label:"0.05",description:(0,i.jsx)(l.cC,{i18nKey:"fee.bestForStablePairs"}),supportedChains:c.yA},[s.FeeAmount.MEDIUM]:{label:"0.3",description:(0,i.jsx)(l.cC,{i18nKey:"fee.bestForMost"}),supportedChains:c.yA},[s.FeeAmount.HIGH]:{label:"1",description:(0,i.jsx)(l.cC,{i18nKey:"fee.bestForExotic"}),supportedChains:c.yA}};var p=n(80690),m=n(92617),x=n(98185),h=n(66112),v=n(56250),f=n(82184),g=n(72992),b=n(21701);const _=(0,v.z)(b.K,{name:"RadioGroupItem",tag:"button",variants:{unstyled:{false:{size:"$true",borderRadius:1e3,backgroundColor:"$background",alignItems:"center",justifyContent:"center",borderWidth:1,borderColor:"$borderColor",padding:0,hoverStyle:{borderColor:"$borderColorHover",backgroundColor:"$backgroundHover"},focusStyle:{borderColor:"$borderColorHover",backgroundColor:"$backgroundHover"},focusVisibleStyle:{outlineStyle:"solid",outlineWidth:2,outlineColor:"$outlineColor"},pressStyle:{borderColor:"$borderColorFocus",backgroundColor:"$backgroundFocus"}}},disabled:{true:{pointerEvents:"none",userSelect:"none",cursor:"not-allowed",hoverStyle:{borderColor:"$borderColor",backgroundColor:"$background"},pressStyle:{borderColor:"$borderColor",backgroundColor:"$background"},focusVisibleStyle:{outlineWidth:0}}},size:{"...size":(e,{props:t})=>{const n=Math.floor((0,f.Ve)((0,g.ap)(e))*(t.scaleSize??.5));return{width:n,height:n}}}},defaultVariants:{unstyled:"1"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AMPLITUDE_PROXY_URL:"https://interface.gateway.uniswap.org/v1/amplitude-proxy",REACT_APP_ANALYTICS_ENABLED:"true",REACT_APP_AWS_API_ENDPOINT:"https://interface.gateway.uniswap.org/v1/graphql",REACT_APP_GIT_COMMIT_HASH:"5a546d3f9b4cd3c9e98fd6b2a27e89e2a95222f8",REACT_APP_INFURA_KEY:"099fc58e0de9451d80b18d7c74caa7c1",REACT_APP_IS_UNISWAP_INTERFACE:"true",REACT_APP_MOONPAY_API:"https://api.moonpay.com",REACT_APP_MOONPAY_LINK:"https://us-central1-uniswap-mobile.cloudfunctions.net/signMoonpayLinkV2?platform=web&env=staging",REACT_APP_MOONPAY_PUBLISHABLE_KEY:"pk_test_DycfESRid31UaSxhI5yWKe1r5E5kKSz",REACT_APP_QUICKNODE_ENDPOINT_NAME:"convincing-greatest-mansion",REACT_APP_QUICKNODE_ENDPOINT_TOKEN:"a79e971fb3b2fdf248d17a45c666ddb8daac377a",REACT_APP_STATSIG_API_KEY:"client-000000000000000000000000000000000000000000",REACT_APP_STATSIG_PROXY_URL:"https://interface.gateway.uniswap.org/v1/statsig-proxy",REACT_APP_TEMP_API_URL:"https://temp.gateway.uniswap.org/v1",REACT_APP_TRADING_API_KEY:"JoyCGj29tT4pymvhaGciK4r1aIPvqW6W53xT1fwo",REACT_APP_UNISWAP_BASE_API_URL:"https://interface.gateway.uniswap.org",REACT_APP_UNISWAP_GATEWAY_DNS:"https://interface.gateway.uniswap.org/v2",REACT_APP_WALLET_CONNECT_PROJECT_ID:"c6c9bacd35afa3eb9e6cccf6d8464395"}.TAMAGUI_HEADLESS}}),y=(0,v.z)(b.K,{name:"RadioGroupIndicator",variants:{unstyled:{false:{width:"33%",height:"33%",borderRadius:1e3,backgroundColor:"$color",pressTheme:!0}}},defaultVariants:{unstyled:"1"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AMPLITUDE_PROXY_URL:"https://interface.gateway.uniswap.org/v1/amplitude-proxy",REACT_APP_ANALYTICS_ENABLED:"true",REACT_APP_AWS_API_ENDPOINT:"https://interface.gateway.uniswap.org/v1/graphql",REACT_APP_GIT_COMMIT_HASH:"5a546d3f9b4cd3c9e98fd6b2a27e89e2a95222f8",REACT_APP_INFURA_KEY:"099fc58e0de9451d80b18d7c74caa7c1",REACT_APP_IS_UNISWAP_INTERFACE:"true",REACT_APP_MOONPAY_API:"https://api.moonpay.com",REACT_APP_MOONPAY_LINK:"https://us-central1-uniswap-mobile.cloudfunctions.net/signMoonpayLinkV2?platform=web&env=staging",REACT_APP_MOONPAY_PUBLISHABLE_KEY:"pk_test_DycfESRid31UaSxhI5yWKe1r5E5kKSz",REACT_APP_QUICKNODE_ENDPOINT_NAME:"convincing-greatest-mansion",REACT_APP_QUICKNODE_ENDPOINT_TOKEN:"a79e971fb3b2fdf248d17a45c666ddb8daac377a",REACT_APP_STATSIG_API_KEY:"client-000000000000000000000000000000000000000000",REACT_APP_STATSIG_PROXY_URL:"https://interface.gateway.uniswap.org/v1/statsig-proxy",REACT_APP_TEMP_API_URL:"https://temp.gateway.uniswap.org/v1",REACT_APP_TRADING_API_KEY:"JoyCGj29tT4pymvhaGciK4r1aIPvqW6W53xT1fwo",REACT_APP_UNISWAP_BASE_API_URL:"https://interface.gateway.uniswap.org",REACT_APP_UNISWAP_GATEWAY_DNS:"https://interface.gateway.uniswap.org/v2",REACT_APP_WALLET_CONNECT_PROJECT_ID:"c6c9bacd35afa3eb9e6cccf6d8464395"}.TAMAGUI_HEADLESS}}),A=(0,v.z)(b.K,{name:"RadioGroup",variants:{orientation:{horizontal:{flexDirection:"row",spaceDirection:"horizontal"},vertical:{flexDirection:"column",spaceDirection:"vertical"}}}});var S=n(28071),I=n(54890),T=n(37751),j=n(93075),P=n(42474),C=n(64605);const E=e=>{const{checked:t,bubbles:n=!0,control:o,isHidden:r,accentColor:a,...s}=e,d=h.useRef(null),l=(0,C.D)(t);return h.useEffect((()=>{const e=d.current,i=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(i,"checked").set;if(l!==t&&o){const i=new Event("click",{bubbles:n});o.call(e,t),e.dispatchEvent(i)}}),[l,t,n]),(0,i.jsx)("input",{type:"radio",defaultChecked:t,...s,tabIndex:-1,ref:d,"aria-hidden":r,style:{...r?{position:"absolute",pointerEvents:"none",opacity:0,margin:0}:{appearance:"auto",accentColor:a},...e.style}})};function w(e){return e?"checked":"unchecked"}const k=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];var O=n(41698);const R=e=>{e.context||(e.context=D)},D=h.createContext({}),L=h.createContext({checked:!1,disabled:!1});const N=function(e){const{disableActiveTheme:t,Frame:n=A,Indicator:o=y,Item:r=_}=e;R(n),R(o),R(r);const a=n.styleable(((e,t)=>{const{value:n,defaultValue:o,onValueChange:r,required:a=!1,disabled:s=!1,name:d,native:l,accentColor:c,orientation:u="vertical",...p}=e,{providerValue:m,frameAttrs:x,rovingFocusGroupAttrs:h}=function(e){const{value:t,onValueChange:n,defaultValue:i,required:o,disabled:r,name:a,native:s,accentColor:d,orientation:l,ref:c}=e,[u,p]=(0,P.T)({prop:t,defaultProp:i,onChange:n});return{providerValue:{value:u,onChange:p,required:o,disabled:r,name:a,native:s,accentColor:d},frameAttrs:{role:"radiogroup","aria-orientation":l,"data-disabled":r?"":void 0},rovingFocusGroupAttrs:{orientation:l,loop:!0}}}({orientation:u,name:d,defaultValue:o,value:n,onValueChange:r,required:a,disabled:s,native:l,accentColor:c});return(0,i.jsx)(D.Provider,{value:m,children:(0,i.jsx)(O.S,{...h,children:(0,i.jsx)(A,{...x,ref:t,...p})})})})),s=r.styleable(((e,t)=>{const{value:n,labelledBy:o,onPress:r,onKeyDown:a,disabled:s,id:d,...l}=e,{providerValue:c,bubbleInput:u,rovingFocusGroupAttrs:p,frameAttrs:m,isFormControl:x,native:v}=(e=>{const{radioGroupContext:t,value:n,labelledBy:o,disabled:r,ref:a,id:s,onPress:d,onKeyDown:l,onFocus:c}=e,{value:u,disabled:p,required:m,onChange:x,name:v,native:f,accentColor:g}=(0,h.useContext)(t),[b,_]=(0,h.useState)(null),y=(0,h.useRef)(!1),A=(0,h.useRef)(null),P=(0,T.ex)(a,(e=>_(e)),A),C=(0,h.useRef)(!1),O=!!S.$L&&(!b||!!b.closest("form")),R=u===n,D=(0,j.t0)(b),L=o||D;(0,h.useEffect)((()=>{if(S.$L){const e=e=>{k.includes(e.key)&&(C.current=!0)},t=()=>{C.current=!1};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}}),[]);const N=p||r;return{providerValue:{checked:R},checked:R,isFormControl:O,bubbleInput:(0,i.jsx)(E,{isHidden:!f,control:b,bubbles:!y.current,name:v,value:n,checked:R,required:m,disabled:N,...S.$L&&f&&{accentColor:g,id:s}}),native:f,frameAttrs:{"data-state":w(R),"data-disabled":N?"":void 0,role:"radio","aria-labelledby":L,"aria-checked":R,"aria-required":m,disabled:N,ref:P,...S.$L&&{type:"button",value:n},id:s,onPress:(0,I.Mj)(d,(e=>{R||x?.(n),O&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})),...S.$L&&{onKeyDown:(0,I.Mj)(l,(e=>{"Enter"===e.key&&e.preventDefault()})),onFocus:(0,I.Mj)(c,(()=>{C.current&&A.current?.click()}))}},rovingFocusGroupAttrs:{asChild:"expect-style",focusable:!N,active:R}}})({radioGroupContext:D,value:n,id:d,labelledBy:o,disabled:s,onPress:r,onKeyDown:a});return(0,i.jsx)(L.Provider,{value:c,children:S.$L&&v?u:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O.S.Item,{...p,children:(0,i.jsx)(_,{...m,ref:t,...l})}),x&&u]})})}));s.displayName="RadioGroupItem";const d=o.styleable(((e,t)=>{const{forceMount:n,disabled:r,...a}=e,{checked:s,...d}=function(e){const{radioGroupItemContext:t,disabled:n,...i}=e,{checked:o}=(0,h.useContext)(t);return{checked:o,"data-state":w(o),"data-disabled":n?"":void 0,...i}}({radioGroupItemContext:L,disabled:r});return n||s?(0,i.jsx)(o,{...d,ref:t,...a}):null}));d.displayName="RadioIndicator";const l=(0,I.$e)(a,{Item:s,Indicator:d});return l.displayName="RadioGroup",l}({Frame:A,Indicator:y,Item:_});var F=n(22405),W=n(16106);const $=(0,h.createContext)(void 0);function M(e){const[t,n]=(0,h.useState)(e.defaultValue);return(0,i.jsx)($.Provider,{value:t,children:(0,i.jsx)(N,{...e,flexDirection:"horizontal"===e.orientation?"row":"column",onValueChange:t=>{var i,o;null===(i=(o=e).onValueChange)||void 0===i||i.call(o,t),n(t)},children:e.children})})}const K={FocusRing:26,RadioButton:20,IndicatorSizeDefault:10,IndicatorSizeHovered:12,IndicatorSizePressed:14,UnselectedHoverIndicator:4,UnselectedPressedIndicator:6};function B({value:e,variant:t="default",...n}){const o=`radiogroup-${e}`,r=(0,h.useContext)($)===e,[a,s]=(0,h.useState)(!1),[d,l]=(0,h.useState)(!1),[c,u]=(0,h.useState)(!1),p=function(e,t){if("branded"===e)return t?"$accent1Hovered":"$accent1";return t?"$accent3Hovered":"$accent3"}(t,a),m=c?K.IndicatorSizePressed:a?K.IndicatorSizeHovered:K.IndicatorSizeDefault,x=c?K.UnselectedPressedIndicator:K.UnselectedHoverIndicator;return(0,i.jsxs)(N.Item,{...n,unstyled:!0,alignItems:"center",animation:"simple",backgroundColor:"transparent",borderColor:r?p:"$neutral2",borderRadius:"$roundedFull",borderWidth:"$spacing2",cursor:"pointer",disabledStyle:{borderColor:"$neutral3"},height:K.RadioButton,hoverStyle:{borderColor:r?p:"$neutral2"},id:o,justifyContent:"center",value:e,width:K.RadioButton,onBlur:()=>l(!1),onFocus:()=>l(!0),onMouseDown:()=>u(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onMouseUp:()=>u(!1),children:[(0,i.jsx)(N.Indicator,{unstyled:!0,animation:"simple",backgroundColor:n.disabled?"$neutral3":p,borderRadius:"$roundedFull",height:m,width:m}),!r&&(0,i.jsx)(F.M,{initial:!0,children:a&&!n.disabled&&(0,i.jsx)(W.k,{animation:"simple",backgroundColor:"$neutral2",borderRadius:"$roundedFull",enterStyle:{scale:0},exitStyle:{scale:0},height:x,position:"absolute",width:x},`UnselectedHoverIndicator-${e}`)}),(0,i.jsx)(W.k,{alignItems:"center",animation:"simple",borderColor:z(t,d,r,p),borderRadius:"$roundedFull",borderWidth:"$spacing1",height:K.FocusRing,justifyContent:"center",position:"absolute",width:K.FocusRing})]})}function z(e,t,n,i){return t?"branded"===e&&n?i:"$neutral3":"transparent"}var U=n(78307),H=n(89911);const G=" _borderTopColor-surface3 _borderRightColor-surface3 _borderBottomColor-surface3 _borderLeftColor-surface3",V=" _borderTopColor-accent1 _borderRightColor-accent1 _borderBottomColor-accent1 _borderLeftColor-accent1",q=" _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _alignItems-flex-start _pt-t-space-pad1331704929 _pb-t-space-pad1331704929 _pr-t-space-pad95589114 _pl-t-space-pad95589114 _borderTopLeftRadius-t-radius-ro291586453 _borderTopRightRadius-t-radius-ro291586453 _borderBottomRightRadius-t-radius-ro291586453 _borderBottomLeftRadius-t-radius-ro291586453 _borderTopWidth-t-space-spa94665586 _borderRightWidth-t-space-spa94665586 _borderBottomWidth-t-space-spa94665586 _borderLeftWidth-t-space-spa94665586 _borderBottomStyle-solid _borderTopStyle-solid _borderLeftStyle-solid _borderRightStyle-solid _boxShadow-0focus-0px0pxvar--550680213 _boxShadow-0active-0px0pxvar--550680213 _boxShadow-0hover-0px0pxvar--1961822511 _opacity-0disabled-0--5 _cursor-0disabled-auto  ";function Z({feeAmount:e,selected:t,poolState:n,distributions:o,onClick:r}){var a,s;const{formatDelta:d}=(0,H.Gb)(),c=null===(s=o)||void 0===s||null===(a=s[e])||void 0===a?void 0:a.toFixed(0),h=u[e].description;return(0,i.jsx)(p.ud,{disabled:!h,text:h,size:p.Oz.Max,placement:"auto",children:(0,i.jsxs)("div",{className:(0,I.Ej)(""+(q+(t?V:G))),children:[(0,i.jsx)(B,{position:"absolute",top:"$spacing8",right:"$spacing8",value:e.toString(),onPress:r,variant:"branded"}),(0,i.jsxs)(m.Tz,{gap:"sm",justify:"flex-start",children:[(0,i.jsx)(U.xv,{variant:"buttonLabel3",children:d(parseFloat(u[e].label))}),o&&(0,i.jsx)(U.xv,{variant:"body4",color:"$neutral2",children:o&&n!==x.tK.NOT_EXISTS&&n!==x.tK.INVALID?void 0!==o[e]?(0,i.jsx)(l.cC,{i18nKey:"fee.selectPercent",values:{pct:c}}):(0,i.jsx)(l.cC,{i18nKey:"common.noData"}):(0,i.jsx)(l.cC,{i18nKey:"common.notCreated.label"})})]})]})})}function Y({feeAmount:e,distributions:t,poolState:n}){var o,r;const a=null===(r=t)||void 0===r||null===(o=r[e])||void 0===o?void 0:o.toFixed(0);return(0,i.jsx)(U.xv,{variant:"body3",color:"$neutral2",children:t&&n!==x.tK.NOT_EXISTS&&n!==x.tK.INVALID?void 0!==t[e]?(0,i.jsx)(l.cC,{i18nKey:"fee.selectPercentDescription",values:{pct:a}}):(0,i.jsx)(l.cC,{i18nKey:"common.noData"}):(0,i.jsx)(l.cC,{i18nKey:"common.notCreated.label"})})}n(30569);var X=n(89454),Q=n(10936),J=n.n(Q),ee=n(51599),te=n(79418),ne=n(88359),ie=n(96102);function oe(e,t){var n,i;const{isLoading:o,error:r,distributions:a}=function(e,t){var n,i,o,r;const{defaultChainId:a}=(0,te.I)(),d=(0,ne.qj)((null===(n=e)||void 0===n?void 0:n.chainId)??a),{loading:l,error:c,data:u}=(0,ee.sM4)({variables:{chain:d,token0:(null===(i=e)||void 0===i?void 0:i.address)??"",token1:(null===(o=t)||void 0===o?void 0:o.address)??""},pollInterval:J()("30s")}),{data:p,error:m}=(0,ee.J3H)({variables:{chain:d},pollInterval:J()("30s")}),{v3PoolsForTokenPair:x}=u??{};return(0,h.useMemo)((()=>{var e;if(m||!x)return{isLoading:l,error:c??m};if(null===(e=p)||void 0===e?void 0:e.isV3SubgraphStale)return ie.k.info("useFeeTierDistribution","usePoolTVL","Subgraph stale"),{isLoading:l,error:c};const t=x.reduce(((e,t)=>{var n,i;return t.feeTier?((n=e)[i=t.feeTier]??(n[i]=[0,0]),e[t.feeTier][0]=(e[t.feeTier][0]??0)+Number(t.token0Supply),e[t.feeTier][1]=(e[t.feeTier][1]??0)+Number(t.token1Supply),e):e}),{[s.FeeAmount.LOWEST]:[void 0,void 0],[s.FeeAmount.LOW]:[void 0,void 0],[s.FeeAmount.MEDIUM]:[void 0,void 0],[s.FeeAmount.HIGH]:[void 0,void 0],[s.FeeAmount.LOW_200]:[void 0,void 0],[s.FeeAmount.LOW_300]:[void 0,void 0],[s.FeeAmount.LOW_400]:[void 0,void 0]}),[n,i]=Object.values(t).reduce(((e,t)=>(e[0]+=t[0]??0,e[1]+=t[1]??0,e)),[0,0]),o=(e,t,n,i)=>void 0===e&&void 0===n?void 0:((e??0)+(n??0))/(t+i)||0,r={[s.FeeAmount.LOWEST]:o(t[s.FeeAmount.LOWEST][0],n,t[s.FeeAmount.LOWEST][1],i),[s.FeeAmount.LOW]:o(t[s.FeeAmount.LOW][0],n,t[s.FeeAmount.LOW][1],i),[s.FeeAmount.MEDIUM]:o(t[s.FeeAmount.MEDIUM][0],n,t[s.FeeAmount.MEDIUM][1],i),[s.FeeAmount.HIGH]:o(t[s.FeeAmount.HIGH][0],n,t[s.FeeAmount.HIGH][1],i),[s.FeeAmount.LOW_200]:o(t[s.FeeAmount.LOW_200][0],n,t[s.FeeAmount.LOW_200][1],i),[s.FeeAmount.LOW_300]:o(t[s.FeeAmount.LOW_300][0],n,t[s.FeeAmount.LOW_300][1],i),[s.FeeAmount.LOW_400]:o(t[s.FeeAmount.LOW_400][0],n,t[s.FeeAmount.LOW_400][1],i)};return{isLoading:l,error:c,distributions:r}}),[m,x,null===(r=p)||void 0===r?void 0:r.isV3SubgraphStale,l,c])}(null===(n=e)||void 0===n?void 0:n.wrapped,null===(i=t)||void 0===i?void 0:i.wrapped),[d]=(0,x.AI)(e,t,s.FeeAmount.LOWEST),[l]=(0,x.AI)(e,t,s.FeeAmount.LOW_200),[c]=(0,x.AI)(e,t,s.FeeAmount.LOW_300),[u]=(0,x.AI)(e,t,s.FeeAmount.LOW_400),[p]=(0,x.AI)(e,t,s.FeeAmount.LOW),[m]=(0,x.AI)(e,t,s.FeeAmount.MEDIUM),[v]=(0,x.AI)(e,t,s.FeeAmount.HIGH);return(0,h.useMemo)((()=>{if(o||r||!a)return{isLoading:o,isError:!!r,distributions:a};const e=Object.keys(a).map((e=>Number(e))).filter((e=>0!==a[e]&&void 0!==a[e])).reduce(((e,t)=>(a[e]??0)>(a[t]??0)?e:t),-1),t=o||r||!a||d===x.tK.LOADING||l===x.tK.LOADING||c===x.tK.LOADING||u===x.tK.LOADING||p===x.tK.LOADING||m===x.tK.LOADING||v===x.tK.LOADING?void 0:{[s.FeeAmount.LOWEST]:d===x.tK.EXISTS?100*(a[s.FeeAmount.LOWEST]??0):void 0,[s.FeeAmount.LOW_200]:l===x.tK.EXISTS?100*(a[s.FeeAmount.LOW_200]??0):void 0,[s.FeeAmount.LOW_300]:c===x.tK.EXISTS?100*(a[s.FeeAmount.LOW_300]??0):void 0,[s.FeeAmount.LOW_400]:u===x.tK.EXISTS?100*(a[s.FeeAmount.LOW_400]??0):void 0,[s.FeeAmount.LOW]:p===x.tK.EXISTS?100*(a[s.FeeAmount.LOW]??0):void 0,[s.FeeAmount.MEDIUM]:m===x.tK.EXISTS?100*(a[s.FeeAmount.MEDIUM]??0):void 0,[s.FeeAmount.HIGH]:v===x.tK.EXISTS?100*(a[s.FeeAmount.HIGH]??0):void 0};return{isLoading:o,isError:!!r,distributions:t,largestUsageFeeTier:-1===e?void 0:e}}),[o,r,a,d,p,m,v,l,c,u])}var re=n(34921),ae=n(97596),se=n(34887),de=n(74441),le=n(91548),ce=n(64824);const ue="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row  selected-fee-percentage",pe="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 _alignItems-center ",me="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1573 ",xe=(0,se.ZP)(d.ZP)`
  border: 1px solid ${({theme:e})=>e.surface3};
  animation: ${({pulsing:e,theme:t})=>{return e&&(n=t.accent1,ae.keyframes`
  0% {
    box-shadow: 0 0 0 0 ${n};
  }

  70% {
    box-shadow: 0 0 0 2px ${n};
  }

  100% {
    box-shadow: 0 0 0 0 ${n};
  }
`);var n}} 0.6s linear;
  align-self: center;
`,he=se.ZP.div`
  align-items: flex-start;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  grid-gap: 8px;
  width: 100%;
`,ve=(0,se.ZP)(m.Tz)`
  opacity: ${({disabled:e})=>e?"0.2":"1"};
  pointer-events: ${({disabled:e})=>e?"none":"initial"};
`;function fe({disabled:e=!1,feeAmount:t,handleFeePoolSelect:n,currencyA:r,currencyB:a}){var d;const{chainId:c}=(0,X.m)(),p=(0,ce.o)(),{formatDelta:m}=(0,H.Gb)(),{isLoading:v,isError:f,largestUsageFeeTier:g,distributions:b}=oe(r,a),_=(0,x.Oh)([[r,a,s.FeeAmount.LOWEST],[r,a,s.FeeAmount.LOW_200],[r,a,s.FeeAmount.LOW_300],[r,a,s.FeeAmount.LOW_400],[r,a,s.FeeAmount.LOW],[r,a,s.FeeAmount.MEDIUM],[r,a,s.FeeAmount.HIGH]],c),y=(0,h.useMemo)((()=>_.reduce(((e,[t,n])=>{var i;return e={...e,[null===(i=n)||void 0===i?void 0:i.fee]:t}}),{[s.FeeAmount.LOWEST]:x.tK.NOT_EXISTS,[s.FeeAmount.LOW_200]:x.tK.NOT_EXISTS,[s.FeeAmount.LOW_300]:x.tK.NOT_EXISTS,[s.FeeAmount.LOW_400]:x.tK.NOT_EXISTS,[s.FeeAmount.LOW]:x.tK.NOT_EXISTS,[s.FeeAmount.MEDIUM]:x.tK.NOT_EXISTS,[s.FeeAmount.HIGH]:x.tK.NOT_EXISTS})),[_]),[A,S]=(0,h.useState)(!1),[I,T]=(0,h.useState)(!1),j=(0,re.Z)(t),P=(0,h.useRef)(!1),C=(0,h.useCallback)((e=>{(0,le._)(o.vp.SELECT_LIQUIDITY_POOL_FEE_TIER,{action:o.jI.MANUAL,fee_tier:e,...p}),n(e)}),[n,p]);return(0,h.useEffect)((()=>{t||v||f||(g?(S(!1),P.current=!0,(0,le._)(o.vp.SELECT_LIQUIDITY_POOL_FEE_TIER,{action:o.jI.RECOMMENDED,fee_tier:g,...p}),n(g)):S(!0))}),[t,v,f,g,n,p]),(0,h.useEffect)((()=>{S(f)}),[f]),(0,h.useEffect)((()=>{t&&j!==t&&T(!0)}),[j,t]),(0,i.jsx)("div",{className:me,children:(0,i.jsxs)(ve,{gap:"md",disabled:e,children:[(0,i.jsx)(xe,{pulsing:I,onAnimationEnd:()=>T(!1),children:(0,i.jsxs)("div",{className:pe,children:[(0,i.jsx)(W.k,{id:"add-liquidity-selected-fee",children:t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(U.xv,{className:"selected-fee-label",children:(0,i.jsx)(l.cC,{i18nKey:"fee.tierExact",values:{fee:m(parseFloat(u[t].label))}})}),b&&(0,i.jsx)("div",{className:ue,children:(0,i.jsx)(Y,{distributions:b,feeAmount:t,poolState:y[t]})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(U.xv,{children:(0,i.jsx)(l.cC,{i18nKey:"fee.tier"})}),(0,i.jsx)(U.xv,{variant:"body3",color:"$neutral2",children:(0,i.jsx)(l.cC,{i18nKey:"fee.percentEarned"})})]})}),(0,i.jsx)(de.z,{onPress:()=>S(!A),variant:"default",emphasis:"secondary",size:"small",fill:!1,children:A?(0,i.jsx)(l.cC,{i18nKey:"common.hide.button"}):(0,i.jsx)(l.cC,{i18nKey:"common.edit.button"})})]})}),c&&A&&(0,i.jsx)(M,{value:null===(d=t)||void 0===d?void 0:d.toString(),orientation:"horizontal",justifyContent:"flex-start",flexWrap:"wrap",children:(0,i.jsx)(he,{children:[s.FeeAmount.LOWEST,s.FeeAmount.LOW_200,s.FeeAmount.LOW_300,s.FeeAmount.LOW_400,s.FeeAmount.LOW,s.FeeAmount.MEDIUM,s.FeeAmount.HIGH].map(((e,n)=>{const{supportedChains:o}=u[e];return o.includes(c)?(0,i.jsx)(Z,{feeAmount:e,selected:e===t,onClick:()=>C(e),distributions:b,poolState:y[e]},n):null}))})})]})})}n(26080);var ge=n(60628),be=n.n(ge);const _e=new a.Fraction(be().BigInt(1),be().BigInt(1e6));function ye({currencyAmount:e,significantDigits:t=4}){return(0,i.jsx)(i.Fragment,{children:e.equalTo(be().BigInt(0))?"0":e.greaterThan(_e)?e.toSignificant(t):`<${_e.toSignificant(1)}`})}var Ae=n(80403),Se=n(18369),Ie=n(83885),Te=n(65678),je=n(11781),Pe=n(96293);const Ce="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _justifyContent-center ",Ee=se.ZP.div`
  display: flex;
`,we=(0,se.ZP)(d.nq)`
  border-color: ${({active:e,theme:t})=>e&&t.deprecated_stateOverlayPressed};
  padding: 12px;
  animation: ${({pulsing:e,theme:t})=>{return e&&(n=t.accent1,ae.keyframes`
  0% {
    box-shadow: 0 0 0 0 ${n};
  }

  70% {
    box-shadow: 0 0 0 2px ${n};
  }

  100% {
    box-shadow: 0 0 0 0 ${n};
  }
`);var n}} 0.8s linear;
`,ke=(0,se.ZP)(Te.II)`
  background-color: transparent;
  font-weight: 535;
  text-align: left;
  width: 100%;

  ${({theme:e})=>e.deprecated_mediaWidth.deprecated_upToSmall`
    font-size: 16px;
  `};
`,Oe=(0,se.ZP)(m.Tz)`
  width: 100%;
`,Re=(0,v.z)(U.xv,{fontSize:12,fontWeight:"$medium",color:"$neutral2"}),De=({value:e,decrement:t,increment:n,decrementDisabled:o=!1,incrementDisabled:r=!1,width:a,locked:s,onUserInput:d,title:c,tokenA:u,tokenB:p})=>{const[x,v]=(0,h.useState)(!1),[f,g]=(0,h.useState)(""),[b,_]=(0,h.useState)(!1),[y,A]=(0,h.useState)(!1),S=(0,h.useCallback)((()=>{_(!1),v(!1),d(f)}),[f,d]),I=(0,h.useCallback)((()=>{_(!1),d(t())}),[t,d]),T=(0,h.useCallback)((()=>{_(!1),d(n())}),[n,d]);return(0,h.useEffect)((()=>{f===e||b||setTimeout((()=>{g(e),A(!0),setTimeout((function(){A(!1)}),1800)}),0)}),[f,b,e]),(0,i.jsx)(we,{pulsing:y,active:x,onFocus:()=>{_(!0),v(!0)},onBlur:S,width:a,children:(0,i.jsxs)(Ee,{children:[(0,i.jsxs)(Oe,{justify:"flex-start",children:[(0,i.jsx)(Re,{fontSize:12,textAlign:"center",children:c}),(0,i.jsx)(ke,{className:"rate-input-0",value:f,fontSize:"20px",disabled:s,onUserInput:e=>{g(e)}}),(0,i.jsx)(Re,{fontSize:12,textAlign:"left",children:(0,i.jsx)(l.cC,{i18nKey:"common.feesEarnedPerBase",values:{symbolA:p,symbolB:u}})})]}),(0,i.jsxs)(m.Tz,{gap:"8px",children:[!s&&(0,i.jsx)(de.z,{size:"xxsmall",emphasis:"tertiary","data-testid":"increment-price-range",onPress:T,isDisabled:r,children:(0,i.jsx)("div",{className:Ce,children:(0,i.jsx)(je.Z,{size:16})})}),!s&&(0,i.jsx)(de.z,{size:"xxsmall",emphasis:"tertiary","data-testid":"decrement-price-range",onPress:I,isDisabled:o,children:(0,i.jsx)("div",{className:Ce,children:(0,i.jsx)(Pe.Z,{size:16})})})]})]})})};n(41556);var Le=n(46812),Ne=n(3105);function Fe({priceLower:e,priceUpper:t,onLeftRangeInput:n,onRightRangeInput:o,getDecrementLower:r,getIncrementLower:a,getDecrementUpper:s,getIncrementUpper:d,currencyA:c,currencyB:u,feeAmount:p,ticksAtLimit:m}){var x,h,v,f,g,b,_,y,A,S,I,T;const j=null===(x=c??void 0)||void 0===x?void 0:x.wrapped,P=null===(h=u??void 0)||void 0===h?void 0:h.wrapped,C=j&&P&&j.sortsBefore(P),E=C?e:null===(v=t)||void 0===v?void 0:v.invert(),w=C?t:null===(f=e)||void 0===f?void 0:f.invert();return(0,i.jsxs)(Le.BA,{gap:"md",children:[(0,i.jsx)(De,{value:m[C?Ne.Mb.LOWER:Ne.Mb.UPPER]?"0":(null===(g=E)||void 0===g?void 0:g.toSignificant(8))??"",onUserInput:n,decrement:C?r:d,increment:C?a:s,decrementDisabled:void 0===E||m[C?Ne.Mb.LOWER:Ne.Mb.UPPER],incrementDisabled:void 0===E||m[C?Ne.Mb.LOWER:Ne.Mb.UPPER],feeAmount:p,label:E?`${null===(b=u)||void 0===b?void 0:b.symbol}`:"-",title:(0,i.jsx)(l.cC,{i18nKey:"common.lowPrice"}),tokenA:null===(_=c)||void 0===_?void 0:_.symbol,tokenB:null===(y=u)||void 0===y?void 0:y.symbol}),(0,i.jsx)(De,{value:m[C?Ne.Mb.UPPER:Ne.Mb.LOWER]?"\u221e":(null===(A=w)||void 0===A?void 0:A.toSignificant(8))??"",onUserInput:o,decrement:C?s:a,increment:C?d:r,incrementDisabled:void 0===w||m[C?Ne.Mb.UPPER:Ne.Mb.LOWER],decrementDisabled:void 0===w||m[C?Ne.Mb.UPPER:Ne.Mb.LOWER],feeAmount:p,label:w?`${null===(S=u)||void 0===S?void 0:S.symbol}`:"-",tokenA:null===(I=c)||void 0===I?void 0:I.symbol,tokenB:null===(T=u)||void 0===T?void 0:T.symbol,title:(0,i.jsx)(l.cC,{i18nKey:"common.highPrice"})})]})}const We=se.ZP.button`
  display: flex;
  align-items: center;
  width: ${({width:e})=>e??"100%"};
  padding: 1px;
  background: ${({theme:e})=>e.surface2};
  border-radius: 8px;
  border: ${({theme:e})=>"1px solid "+e.surface3};
  cursor: pointer;
  outline: none;
`,$e=se.ZP.span`
  display: flex;
  align-items: center;
  width: 100%;
  padding: 4px 0.5rem;
  border-radius: 6px;
  justify-content: center;
  height: 100%;
  background: ${({theme:e,isActive:t})=>t?e.surface1:"none"};
  color: ${({theme:e,isActive:t})=>t?e.neutral1:e.neutral3};
  font-size: ${({fontSize:e})=>e??"1rem"};
  font-weight: 535;
  white-space: nowrap;
  :hover {
    user-select: initial;
    color: ${({theme:e,isActive:t})=>t?e.neutral2:e.neutral3};
  }
`,Me="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _width-fit-content _alignItems-center ";function Ke({currencyA:e,currencyB:t,handleRateToggle:n}){var o,r;const a=null===(o=e)||void 0===o?void 0:o.wrapped,s=null===(r=t)||void 0===r?void 0:r.wrapped,d=a&&s&&a.sortsBefore(s);return a&&s?(0,i.jsx)("div",{onClick:n,className:Me,children:(0,i.jsxs)(We,{width:"fit-content",children:[(0,i.jsx)($e,{isActive:d,fontSize:"12px",children:d?e.symbol:t.symbol}),(0,i.jsx)($e,{isActive:!d,fontSize:"12px",children:d?t.symbol:e.symbol})]})}):null}n(18086);var Be=n(17321),ze=n(16129),Ue=n(83561),He=n(74931),Ge=n(14347),Ve=n(32984),qe=n(29269),Ze=n(92865);function Ye(e,t,n,i,o,r,a){try{var s=e[r](a),d=s.value}catch(l){return void n(l)}s.done?t(d):Promise.resolve(d).then(i,o)}function Xe(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){Ye(r,i,o,a,s,"next",e)}function s(e){Ye(r,i,o,a,s,"throw",e)}a(void 0)}))}}var Qe=(e=>(e.UNKNOWN="UNKNOWN",e.NOT_APPROVED="NOT_APPROVED",e.PENDING="PENDING",e.APPROVED="APPROVED",e))(Qe||{});function Je(e,t,n){var i,r,a,s;const{chainId:d}=(0,X.m)(),l=(null===(r=e)||void 0===r||null===(i=r.currency)||void 0===i?void 0:i.isToken)?e.currency:void 0,c=function(e,t,n){var i,o;const r=(0,X.m)(),a=(null===(o=e)||void 0===o||null===(i=o.currency)||void 0===i?void 0:i.isToken)?e.currency:void 0,{tokenAllowance:s}=(0,Ve.Fx)(a,r.address,t),d=n(a,t);return(0,h.useMemo)((()=>e&&t?e.currency.isNative?"APPROVED":s?s.lessThan(e)?d?"PENDING":"NOT_APPROVED":"APPROVED":"UNKNOWN":"UNKNOWN"),[e,d,t,s])}(e,t,n),u=(0,Ge.Ib)(null===(a=l)||void 0===a?void 0:a.address,void 0,null===(s=l)||void 0===s?void 0:s.chainId),p=(0,h.useCallback)(Xe((function*(){function n(t){var n,i,o;"string"===typeof t?ie.k.debug("useApproval","approve",t):ie.k.debug("useApproval","approve","Failed to approve amount",{error:t,tokenChain:null===(n=l)||void 0===n?void 0:n.chainId,token:null===(i=l)||void 0===i?void 0:i.address,chainId:d,amountToApprove:null===(o=e)||void 0===o?void 0:o.toFixed()})}if("NOT_APPROVED"!==c)return n("approve was called unnecessarily");if(!d)return n("no chainId");if(!l)return n("no token");if(!u)return n("tokenContract is null");if(!e)return n("missing amount to approve");if(!t)return n("no spender");let i=!1;const r=yield u.estimateGas.approve(t,He.Bz).catch((()=>(i=!0,u.estimateGas.approve(t,e.quotient.toString()))));return u.approve(t,i?e.quotient.toString():He.Bz,{gasLimit:(0,Ze.y)(r)}).then((n=>{var i;const r={chain_id:d,token_symbol:null===(i=l)||void 0===i?void 0:i.symbol,token_address:(0,qe.DT)(l)};return(0,le._)(o.Je.APPROVE_TOKEN_TXN_SUBMITTED,r),{response:n,tokenAddress:l.address,spenderAddress:t,amount:e}})).catch((e=>{throw n(e),e}))})),[c,l,u,e,t,d]);return[c,p]}var et=n(73354),tt=n(24467);function nt(e){const t=(0,et.h7)();return(0,h.useCallback)((()=>e().then((e=>{if(e){const{response:n,tokenAddress:i,spenderAddress:o,amount:r}=e;t(n,{type:tt.i.APPROVAL,tokenAddress:i,spender:o,amount:r.quotient.toString()})}}))),[t,e])}var it=n(29603),ot=n(33178);function rt(){const e=(0,X.m)();return(0,ot.u)({address:(0,it.c)(a.ARGENT_WALLET_DETECTOR_ADDRESS[e.chainId??c.bI.Mainnet]),abi:[{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"isArgentWallet",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],functionName:"isArgentWallet",args:e.address?[e.address]:void 0,query:{enabled:!!e.address}}).data??!1}var at=n(46222),st=n(73794),dt=n(49284),lt=n(31927),ct=n(4545),ut=n(4814);const pt=[{constant:!0,inputs:[{name:"owner",type:"address"}],name:"nonces",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"}];var mt=n(12761);function xt(e,t,n,i,o,r,a){try{var s=e[r](a),d=s.value}catch(l){return void n(l)}s.done?t(d):Promise.resolve(d).then(i,o)}var ht=(e=>(e[e.AMOUNT=1]="AMOUNT",e[e.ALLOWED=2]="ALLOWED",e))(ht||{});const vt=1200,ft={[c.bI.Mainnet]:{[mt.Hz.address]:{type:1,name:"USD Coin",version:"2"},[mt.h1.address]:{type:2,name:"Dai Stablecoin",version:"1"},[mt.yg[c.bI.Mainnet].address]:{type:1,name:"Uniswap"}},[c.bI.Sepolia]:{[mt.yg[c.bI.Sepolia].address]:{type:1,name:"Uniswap"}}};const gt=[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],bt=[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],_t=[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],yt=[{name:"holder",type:"address"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"},{name:"allowed",type:"bool"}];function At(e,t,n,i){var o,r,a,s;const d=(0,X.m)(),l=(0,ut.nL)(),c=(null===(r=e)||void 0===r||null===(o=r.currency)||void 0===o?void 0:o.isToken)?e.currency.address:void 0,u=rt(),{data:p,isLoading:m}=(0,ot.u)({address:(0,it.c)(c),chainId:null===(a=e)||void 0===a?void 0:a.currency.chainId,abi:pt,functionName:"nonces",args:d.address?[(0,it.c)(d.address)]:void 0,query:{enabled:!!d.address}}),x=i??(d.isConnected&&d.chainId&&c?null===(s=ft[d.chainId])||void 0===s?void 0:s[c]:void 0),[v,f]=(0,h.useState)(null);return(0,h.useMemo)((()=>{if(u||!e||!d.chainId||!d.address||!n||!l||void 0===p||!c||!t||!x)return{state:0,signatureData:null,gatherPermitSignature:null};const i=Number(p);if(m||"number"!==typeof i)return{state:1,signatureData:null,gatherPermitSignature:null};const o=v&&v.owner===d.address&&v.deadline>=n.toNumber()&&v.tokenAddress===c&&v.nonce===i&&v.spender===t&&("allowed"in v||be().greaterThanOrEqual(be().BigInt(v.amount),e.quotient));return{state:o?3:2,signatureData:o?v:null,gatherPermitSignature:function(){var o,r=(o=function*(){const o=2===x.type,r=n.toNumber()+vt,a=e.quotient.toString(),s=o?{holder:d.address,spender:t,allowed:o,nonce:i,expiry:r}:{owner:d.address,spender:t,value:a,nonce:i,deadline:r},u=x.version?{name:x.name,version:x.version,verifyingContract:c,chainId:d.chainId}:{name:x.name,verifyingContract:c,chainId:d.chainId},p=JSON.stringify({types:{EIP712Domain:x.version?gt:bt,Permit:o?yt:_t},domain:u,primaryType:"Permit",message:s});return l.send("eth_signTypedData_v4",[d.address,p]).then(ct.splitSignature).then((e=>{f({v:e.v,r:e.r,s:e.s,deadline:r,...o?{allowed:o}:{amount:a},nonce:i,chainId:d.chainId,owner:d.address,spender:t,tokenAddress:c,permitType:x.type})}))},function(){var e=this,t=arguments;return new Promise((function(n,i){var r=o.apply(e,t);function a(e){xt(r,n,i,a,s,"next",e)}function s(e){xt(r,n,i,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}()}}),[u,e,d.chainId,d.address,n,l,p,m,c,t,x,v])}const St={version:"1",name:"Uniswap V2",type:ht.AMOUNT};var It=n(57181),Tt=n(40811),jt=n(64341),Pt=n(83911),Ct=n(88323),Et=n(85691),wt=n(61799),kt=n(84603);const Ot=se.ZP.input`
  width: 100%;
  display: flex;
  flex: 1;
  font-size: 16px;
  border: 0;
  outline: none;
  background: transparent;
  text-align: right;
  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
    -webkit-appearance: none;
  }
  ::placeholder {
    color: ${({theme:e})=>e.neutral3};
  }
`,Rt=(0,se.ZP)(Le.ZP)`
  padding: 8px 16px;
  border-radius: 12px;
  width: auto;
  min-width: 100px;
  flex: 1;
  input {
    color: ${({theme:e,error:t})=>t?e.critical:e.neutral1};
  }
  border: 1px solid ${({theme:e,error:t})=>t?e.critical:e.surface2};
  ${({theme:e,error:t})=>t?`\n        border: 1px solid ${e.critical};\n        :focus-within {\n          border-color: ${e.deprecated_accentFailureSoft};\n        }\n      `:`\n        border: 1px solid ${e.surface3};\n        :focus-within {\n          border-color: ${e.accent2};\n        }\n      `}
`;var Dt=n(19110),Lt=n(11524),Nt=n(49514),Ft=n(70768);const Wt=(0,se.ZP)(Le.ZP)`
  width: auto;
  cursor: pointer;
  padding: 6px 12px;
  text-align: center;
  gap: 4px;
  border-radius: 12px;
  background: ${({isActive:e,theme:t})=>e?t.surface3:"transparent"};
  pointer-events: ${({isActive:e})=>e&&"none"};
`,$t=(0,se.ZP)(Le.ZP)`
  width: auto;
  padding: 4px;
  border: 1px solid ${({theme:e})=>e.surface3};
  border-radius: 16px;
`,Mt=/^(?:\d*\.\d{0,2}|\d+)$/,Kt=new a.Percent(5,1e4),Bt=new a.Percent(1,100);function zt({autoSlippage:e}){const[t,n]=(0,Dt.$2)(),{formatPercent:o}=(0,H.Gb)(),r=function(){const{formatPercent:e}=(0,H.Gb)();return t=>e(t).slice(0,-1)}(),s=t===Lt.y.Auto||t.equalTo(e)?"":r(t),[d,c]=(0,h.useState)(s),[u,p]=(0,h.useState)(!1),[m,x]=(0,h.useState)(s.length>0),v=t!==Lt.y.Auto&&t.lessThan(Kt),f=t!==Lt.y.Auto&&t.greaterThan(Bt);return(0,i.jsxs)(wt.Z,{testId:"max-slippage-settings",padding:"6px 0px",isOpen:m,onToggle:()=>x(!m),header:(0,i.jsxs)(Le.ZP,{width:"auto",children:[(0,i.jsx)(Nt.T.BodyPrimary,{children:(0,i.jsx)(l.cC,{i18nKey:"settings.maxSlippage"})}),(0,i.jsx)(kt.Z,{text:(0,i.jsx)(l.cC,{i18nKey:"swap.settings.transactionRevertPrice"})})]}),button:(0,i.jsx)(Nt.T.BodyPrimary,{children:t===Lt.y.Auto?(0,i.jsx)(l.cC,{i18nKey:"common.automatic"}):o(t)}),children:[(0,i.jsxs)(Le.m0,{gap:"md",children:[(0,i.jsxs)($t,{children:[(0,i.jsx)(Wt,{onClick:()=>{c(""),n(Lt.y.Auto)},isActive:t===Lt.y.Auto,children:(0,i.jsx)(Nt.T.BodyPrimary,{children:(0,i.jsx)(l.cC,{i18nKey:"common.automatic"})})}),(0,i.jsx)(Wt,{onClick:()=>{n(e)},isActive:t!==Lt.y.Auto,children:(0,i.jsx)(Nt.T.BodyPrimary,{children:(0,i.jsx)(l.cC,{i18nKey:"common.custom"})})})]}),(0,i.jsxs)(Rt,{gap:"md",error:!!u,children:[(0,i.jsx)(Ot,{"data-testid":"slippage-input",placeholder:r(e),value:d,onChange:e=>(t=>{if(!(t.length>0)||Mt.test(t))if(c(t),p(!1),0!==t.length){if("."!==t)try{const e=Math.floor(100*Number.parseFloat(t));e>5e3?(n(new a.Percent(5e3,1e4)),p("InvalidInput")):n(new a.Percent(e,1e4))}catch(e){p("InvalidInput")}}else n(Lt.y.Auto)})(e.target.value),onBlur:()=>{c(s),p(!1)}}),(0,i.jsx)(U.xv,{variant:"body1",color:u?"$statusCritical":"$neutral1",children:"%"})]})]}),v||f?(0,i.jsxs)(Le.m0,{gap:"md",children:[(0,i.jsx)(Ft.r,{}),(0,i.jsx)(Nt.T.BodySmall,{color:"deprecated_accentWarning",children:v?(0,i.jsx)(l.cC,{i18nKey:"swap.slippageBelow.warning",values:{amt:o(Kt)}}):(0,i.jsx)(l.cC,{i18nKey:"swap.frontrun.warning"})})]}):null]})}var Ut=n(87871),Ht=n(48006),Gt=(e=>(e[e.TooLow=0]="TooLow",e[e.TooHigh=1]="TooHigh",e[e.Valid=2]="Valid",e))(Gt||{});const Vt=new a.Percent(5,1e4),qt=new a.Percent(1,100);const Zt=({compact:e})=>{const[t]=(0,Dt.$2)(),{formatPercent:n}=(0,H.Gb)();if(t===Lt.y.Auto)return(0,i.jsx)("div",{className:"  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _pr-spacing6 _pl-spacing6 _pt-spacing12 _pb-spacing12 _borderTopLeftRadius-t-radius-ro291586449 _borderTopRightRadius-t-radius-ro291586449 _borderBottomRightRadius-t-radius-ro291586449 _borderBottomLeftRadius-t-radius-ro291586449 ",children:(0,i.jsx)(Ut.Z,{height:"24px",width:"24px",fill:"neutral2"})});const o=function(e){return e.lessThan(Vt)?0:e.greaterThan(qt)?1:2}(t)!==Gt.Valid;return(0,i.jsxs)("div",{"data-testid":"settings-icon-with-slippage",className:(0,I.Ej)(" _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _pr-t-space-spa94665591 _pl-t-space-spa94665591 _pt-t-space-spa1360334080 _pb-t-space-spa1360334080 _borderTopLeftRadius-t-radius-ro291586449 _borderTopRightRadius-t-radius-ro291586449 _borderBottomRightRadius-t-radius-ro291586449 _borderBottomLeftRadius-t-radius-ro291586449 _gap-t-space-gap56  "+(o?" _backgroundColor-statusWarni108953":" _backgroundColor-surface2")),children:[(0,i.jsx)(Nt.T.Caption,{color:o?"accentWarning":"neutral2",children:e?n(t):(0,i.jsx)(l.cC,{i18nKey:"swap.slippage.amt",values:{amt:n(t)}})}),(0,i.jsx)(Ut.Z,{height:"24px",width:"24px",fill:"neutral2"})]})};function Yt({disabled:e,onClick:t,isActive:n,compact:o}){const{t:r}=(0,l.$G)();return(0,i.jsx)(Ht.Z,{disabled:e,onPress:t,id:"open-settings-dialog-button","data-testid":"open-settings-dialog-button","aria-label":r("common.transactionSettings"),hoverStyle:{opacity:.7},opacity:n?.7:1,children:(0,i.jsx)(Zt,{compact:o})})}n(36509);var Xt=n(91842);const Qt=J()("3d")/1e3,Jt=/^[0-9\b]+$/;function en(){const[e,t]=(0,Dt.A6)(),n=e&&e!==Xt.PY?(e/60).toString():"",[o,r]=(0,h.useState)(n),[a,s]=(0,h.useState)(!1),[d,c]=(0,h.useState)(n.length>0);return(0,i.jsx)(wt.Z,{isOpen:d,onToggle:()=>c(!d),padding:"6px 0px",testId:"transaction-deadline-settings",header:(0,i.jsxs)(Le.ZP,{width:"auto",children:[(0,i.jsx)(Nt.T.BodyPrimary,{children:(0,i.jsx)(l.cC,{i18nKey:"swap.transaction.deadline"})}),(0,i.jsx)(kt.Z,{text:(0,i.jsx)(l.cC,{i18nKey:"swap.transaction.revertAfter"})})]}),button:(0,i.jsx)(l.cC,{i18nKey:"common.time.minute.amt",values:{time:e/60}}),children:(0,i.jsx)(Le.ZP,{children:(0,i.jsxs)(Rt,{gap:"md",error:!!a,children:[(0,i.jsx)(Ot,{"data-testid":"deadline-input",placeholder:(Xt.PY/60).toString(),value:o,onChange:e=>function(e){if(!(e.length>0)||Jt.test(e))if(r(e),s(!1),0!==e.length)try{const n=60*Number.parseInt(e);0===n||n>Qt?s("InvalidInput"):t(n)}catch(n){s("InvalidInput")}else t(Xt.PY)}(e.target.value),onBlur:()=>{r(n),s(!1)}}),(0,i.jsx)(Nt.T.BodyPrimary,{children:(0,i.jsx)(l.cC,{i18nKey:"common.time.minutes"})})]})})})}var tn=n(90341),nn=n(15074),on=n(35212),rn=n(39522),an=n(73754),sn=n(87768),dn=n(49357);const ln="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _width-10037 _pr-24px _justifyContent-center ",cn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _pt-8px _pb-4px _mb-16px ",un="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _position-relative ",pn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-spa94665593 ",mn=(0,v.z)(W.k,{minWidth:"20.125rem",backgroundColor:"$surface1",borderWidth:1,borderColor:"$surface3",boxShadow:"0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04), 0px 24px 32px rgba(0, 0, 0, 0.01)",borderRadius:12,position:"absolute",top:"100%",mt:10,right:0,zIndex:100,userSelect:"none",p:16});function xn({autoSlippage:e,chainId:t,compact:n=!1}){const o=!(0,ne.pQ)(t),r=(0,h.useRef)(null),a=(0,h.useRef)(null),s=(0,nn.Wt)(dn.tl.Settings),d=(0,nn._x)(dn.tl.Settings),c=(0,h.useCallback)((()=>d()),[d]),u=(0,nn.nU)(),p=(0,jt.d)(),m=s&&p,x=s&&!p;(0,Ct.t)(a,x?c:void 0,[r]),(0,Pt.Z)(s);const v=(0,sn.Nb)(t),f=(0,h.useMemo)((()=>(0,i.jsx)(an.I,{open:!0,children:(0,i.jsxs)("div",{className:pn,children:[(0,i.jsx)(zt,{autoSlippage:e}),o&&(0,i.jsx)(en,{})]})})),[e,o]);return(0,i.jsxs)("div",{ref:r,className:un,children:[(0,i.jsx)(Yt,{disabled:!v,isActive:s,compact:n,onClick:u}),x&&(0,i.jsx)(mn,{ref:a,children:f}),m&&(0,i.jsx)(Et.h,{children:(0,i.jsxs)(W.k,{row:!0,"data-testid":"mobile-settings-menu",ref:a,"$platform-web":{position:"fixed"},height:"100%",top:"100vh",left:"0",right:"0",width:"100%",zIndex:rn.k.fixed,overflow:"visible",children:[(0,i.jsx)(Tt.Z,{onClick:c,$open:!0}),(0,i.jsxs)(W.k,{height:"min-content",width:"100%",pt:8,px:16,pb:24,backgroundColor:"$surface1",overflow:"hidden",position:"absolute",bottom:"100vh",transition:`bottom ${on.pB.duration.medium}`,borderWidth:1,borderColor:"$surface3",borderRadius:12,borderBottomRightRadius:0,borderBottomLeftRadius:0,boxShadow:"unset",zIndex:rn.k.modal,children:[(0,i.jsxs)("div",{className:cn,children:[(0,i.jsx)(Ht.Z,{"data-testid":"mobile-settings-close",onPress:c,children:(0,i.jsx)(tn.Z,{size:24})}),(0,i.jsx)("div",{className:ln,children:(0,i.jsx)(Nt.T.SubHeader,{children:(0,i.jsx)(l.cC,{i18nKey:"common.settings"})})})]}),f]})]})})]})}n(31273);var hn=n(63411),vn=n.n(hn);function fn(){return fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fn.apply(this,arguments)}function gn(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var bn=(0,h.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,o=e.size,r=void 0===o?24:o,a=gn(e,["color","size"]);return h.createElement("svg",fn({ref:t,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),h.createElement("circle",{cx:"12",cy:"12",r:"10"}),h.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),h.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"}))}));bn.propTypes={color:vn().string,size:vn().oneOfType([vn().string,vn().number])},bn.displayName="AlertCircle";const _n=bn;var yn=n(99233),An=n(56894),Sn=n(68986),In=n(7988),Tn=n(54522),jn=n(25053),Pn=n(10260),Cn=n(95675),En=n(70914),wn=n(2637),kn=n(52567),On=n(4948),Rn=n(51225),Dn=n(96422),Ln=n(69511);function Nn({number:e,locale:t,sigFigs:n,fixedDecimals:i,options:o={}}){let r;let a;if(r=t&&Object.values(Ln.go).includes(t)?[t,Ln.ZW]:Ln.ZW,o.minimumFractionDigits=o.minimumFractionDigits||i,o.maximumFractionDigits=o.maximumFractionDigits||i,o.maximumSignificantDigits=o.maximumSignificantDigits||i?void 0:n,"number"===typeof e)a=i?parseFloat(e.toFixed(i)):e;else{const t=parseFloat(e.toSignificant(n));a=i?parseFloat(t.toFixed(i)):t}return a.toLocaleString(r,o)}function Fn(e,t,n=Ln.ZW,i){return e?be().equal(e.quotient,be().BigInt(0))?"0":e.divide(e.decimalScale).lessThan(new a.Fraction(1,1e5))?`<${Nn({number:1e-5,locale:n})}`:Nn({number:e,locale:n,sigFigs:t,fixedDecimals:i}):"-"}var Wn=n(7483),$n=n(43202),Mn=n(92021);function Kn(e,t,n,i,o,r,a){try{var s=e[r](a),d=s.value}catch(l){return void n(l)}s.done?t(d):Promise.resolve(d).then(i,o)}function Bn(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){Kn(r,i,o,a,s,"next",e)}function s(e){Kn(r,i,o,a,s,"throw",e)}a(void 0)}))}}const zn="  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center _justifyContent-space-betwe3241 _gap-t-space-gap56 ",Un="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1573 ",Hn="  _display-flex _alignItems-center _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-center ",Gn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-spa1360334076 ",Vn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap1598 ",qn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row ",Zn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-column _gap-t-space-gap56 ",Yn="  _display-flex _alignItems-stretch _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _justifyContent-space-betwe3241 ",Xn=be().BigInt(0),Qn=new a.Percent(75,1e4),Jn=[{constant:!0,inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"reserve0",type:"uint112"},{internalType:"uint112",name:"reserve1",type:"uint112"},{internalType:"uint32",name:"blockTimestampLast",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"}];function ei({message:e}){return(0,i.jsx)(m.Tz,{style:{minHeight:200,justifyContent:"center",alignItems:"center"},children:(0,i.jsx)(Nt.T.DeprecatedBody,{children:e})})}const ti=({children:e,currency0:t,currency1:n,badgeText:o})=>(0,i.jsxs)("div",{className:Yn,children:[(0,i.jsxs)("div",{className:"  _display-flex _flexBasis-auto _boxSizing-border-box _position-relative _minHeight-0px _minWidth-0px _flexShrink-0 _flexDirection-row _alignItems-center ",children:[(0,i.jsx)(Ie.g,{currencies:[t,n],size:Cn._.icon20}),(0,i.jsx)(U.xv,{variant:"subheading1",ml:"$spacing8",children:e})]}),(0,i.jsx)(En.Z,{children:o})]});function ni({token0Amount:e,token1Amount:t}){const n=[{currency:(0,Wn.B)(e.currency),amount:e},{currency:(0,Wn.B)(t.currency),amount:t}];return(0,i.jsx)("div",{className:Zn,children:n.map((({currency:e,amount:t})=>(0,i.jsxs)("div",{className:Yn,children:[(0,i.jsxs)("div",{className:qn,children:[(0,i.jsx)(Se.Z,{size:Cn._.icon20,currency:e}),(0,i.jsx)(U.xv,{variant:"body3",ml:"$spacing8",children:e.symbol})]}),(0,i.jsx)(U.xv,{variant:"body3",children:(0,i.jsx)(ye,{currencyAmount:t})})]},e.symbol)))})}const ii=100;function oi({pairAddress:e,pairBalance:t,totalSupply:n,reserve0:u,reserve1:p,token0:v,token1:f}){var g,b,_,y,A,S,I,T,j,P,C,E,w,k,O,R,D,L,N,F,W,$,M;const{t:K}=(0,l.$G)(),B=(0,X.m)(),z=(0,ae.useTheme)(),H=B.chainId?a.V2_FACTORY_ADDRESSES[B.chainId]:void 0,G=(0,ce.o)(),{data:V}=(0,ot.u)({address:(0,it.c)(e),functionName:"factory",abi:Jn}),q=!!V&&V!==H,Z=(0,lt.n)(),Y=(0,Dt.eq)(Qn),Q=(0,Wn.B)(v),J=(0,Wn.B)(f),ee=(0,h.useMemo)((()=>a.CurrencyAmount.fromRawAmount(v,be().divide(be().multiply(t.quotient,u.quotient),n.quotient))),[v,t,u,n]),te=(0,h.useMemo)((()=>a.CurrencyAmount.fromRawAmount(f,be().divide(be().multiply(t.quotient,p.quotient),n.quotient))),[f,t,p,n]),ne=(0,kn.NF)(ee),ie=(0,kn.NF)(te),[oe,re]=(0,h.useState)(s.FeeAmount.MEDIUM),[se,ue]=(0,x.AI)(v,f,oe),pe=se===x.tK.NOT_EXISTS,me=(0,h.useMemo)((()=>new a.Price(v,f,u.quotient,p.quotient)),[v,f,u,p]),xe=se===x.tK.EXISTS?null===(g=ue)||void 0===g?void 0:g.token0Price:void 0;let he=me&&xe?xe.divide(me).subtract(1).multiply(100):void 0;(null===(b=he)||void 0===b?void 0:b.lessThan(Xn))&&(he=he.multiply(-1));const ve=he&&!(null===(_=he)||void 0===_?void 0:_.lessThan(be().BigInt(2))),[ge,_e]=(0,h.useState)(v),{ticks:ye,pricesAtTicks:Se,invertPrice:Ie,invalidRange:Te,outOfRange:je,ticksAtLimit:Pe}=(0,Tn.m2)(v,f,oe,ge),{[Ne.Mb.LOWER]:Ce,[Ne.Mb.UPPER]:Ee}=ye,{[Ne.Mb.LOWER]:we,[Ne.Mb.UPPER]:ke}=Se,{getDecrementLower:Oe,getIncrementLower:Re,getDecrementUpper:De,getIncrementUpper:We}=(0,Tn.a6)({baseCurrency:ge,quoteCurrency:ge.equals(v)?f:v,feeAmount:oe,tickLower:Ce,tickUpper:Ee,pool:ue}),{onLeftRangeInput:$e,onRightRangeInput:Me}=(0,Tn.EG)(pe),Ue=(null===(y=ue)||void 0===y?void 0:y.tickCurrent)??(0,s.priceToClosestTick)(me),He=(null===(A=ue)||void 0===A?void 0:A.sqrtRatioX96)??s.TickMath.getSqrtRatioAtTick(Ue),Ve="number"!==typeof Ce||"number"!==typeof Ee||Te?void 0:s.Position.fromAmounts({pool:ue??new s.Pool(v,f,oe,He,0,Ue,[]),tickLower:Ce,tickUpper:Ee,amount0:ee.quotient,amount1:te.quotient,useFullPrecision:!0}),{amount0:qe,amount1:Ye}=(0,h.useMemo)((()=>Ve?Ve.mintAmountsWithSlippage(Y):{amount0:void 0,amount1:void 0}),[Ve,Y]),Xe=(0,h.useMemo)((()=>Ve&&a.CurrencyAmount.fromRawAmount(v,be().subtract(ee.quotient,Ve.amount0.quotient))),[ee,Ve,v]),st=(0,h.useMemo)((()=>Ve&&a.CurrencyAmount.fromRawAmount(f,be().subtract(te.quotient,Ve.amount1.quotient))),[te,Ve,f]),[dt,ct]=(0,h.useState)(!1),[ut,pt]=(0,h.useState)(null),xt=(0,Ge.mq)(),[ht,vt]=function(e,t){const[n,i]=Je(e,t,et.wB);return[n,nt(i)]}(t,null===(S=xt)||void 0===S?void 0:S.address),{signatureData:ft,gatherPermitSignature:gt}=(bt=t,_t=null===(I=xt)||void 0===I?void 0:I.address,At(bt,_t,(0,lt.Z)(),St));var bt,_t;const yt=rt(),It=(0,h.useCallback)(Bn((function*(){if(q||yt)yield vt();else if(gt)try{yield gt()}catch(t){var e;4001!==(null===(e=t)||void 0===e?void 0:e.code)&&(yield vt())}else yield vt()})),[q,yt,gt,vt]),Tt=(0,et.h7)(),jt=(0,et.ub)(ut??void 0),Pt=(0,at.G)(),Ct=(0,h.useCallback)(Bn((function*(){var n;if(!xt||!B.address||"number"!==typeof Ce||"number"!==typeof Ee||!qe||!Ye||!B.chainId||!Pt)return;const i=(null===(n=ft)||void 0===n?void 0:n.deadline)??(yield Z());if(!i)throw new Error("could not get deadline");const a=[];ft&&a.push(xt.interface.encodeFunctionData("selfPermit",[e,`0x${t.quotient.toString(16)}`,i,ft.v,ft.r,ft.s])),pe&&a.push(xt.interface.encodeFunctionData("createAndInitializePoolIfNecessary",[v.address,f.address,oe,`0x${He.toString(16)}`])),a.push(xt.interface.encodeFunctionData("migrate",[{pair:e,liquidityToMigrate:`0x${t.quotient.toString(16)}`,percentageToMigrate:ii,token0:v.address,token1:f.address,fee:oe,tickLower:Ce,tickUpper:Ee,amount0Min:`0x${qe.toString(16)}`,amount1Min:`0x${Ye.toString(16)}`,recipient:B.address,deadline:i,refundAsETH:!0}])),ct(!0),xt.estimateGas.multicall(a).then((t=>xt.multicall(a,{gasLimit:(0,Ze.y)(t)}).then((t=>{(0,le._)(o.vp.MIGRATE_LIQUIDITY_SUBMITTED,{...(0,Ae.l)({trace:G,fee:oe,currency0:v,currency1:f,poolId:e,version:r.Qe.V2,currency0AmountUsd:ne,currency1AmountUsd:ie}),action:`${q?o.GM.SUSHISWAP:o.GM.V2}->${o.GM.V3}`,transaction_hash:t.hash}),Tt(t,{type:tt.i.MIGRATE_LIQUIDITY_V2_TO_V3,baseCurrencyId:(0,Dn.H)(Q),quoteCurrencyId:(0,Dn.H)(J),isFork:q}),pt(t.hash)})))).catch((()=>{ct(!1)}))})),[xt,B.address,B.chainId,Ce,Ee,qe,Ye,Pt,ft,Z,pe,e,t.quotient,v,f,oe,He,G,ne,ie,q,Tt,Q,J]),Et=!!ut&&be().equal(t.quotient,Xn);return Pt?(0,i.jsxs)("div",{className:Vn,children:[(0,i.jsxs)(U.xv,{my:"$spacing8",variant:"body2",textAlign:"center",children:[(0,i.jsx)(l.cC,{i18nKey:"migrate.v2Description",values:{source:q?"SushiSwap":"V2"},children:(0,i.jsx)(jn.d,{href:(0,On.E8)(B.chainId??c.bI.Mainnet,(null===(T=xt)||void 0===T?void 0:T.address)??"",On.rl.ADDRESS),children:(0,i.jsxs)(U.xv,{color:"$accent1",display:"inline",children:[(0,i.jsx)(l.cC,{i18nKey:"migrate.contract"})," \u2197"]})},"migration-contract")}),"."]}),(0,i.jsx)(d.hl,{children:(0,i.jsxs)("div",{className:Gn,children:[(0,i.jsx)(ti,{currency0:Q,currency1:J,badgeText:q?"Sushi":"V2",children:(0,i.jsx)(l.cC,{i18nKey:"migrate.lpTokens",values:{symA:Q.symbol,symB:J.symbol}})}),(0,i.jsx)(ni,{token0Amount:ee,token1Amount:te})]})}),(0,i.jsx)("div",{className:Hn,children:(0,i.jsx)(Pn.E,{direction:"s",color:"$neutral1",size:Cn._.icon24})}),(0,i.jsx)(d.hl,{children:(0,i.jsxs)("div",{className:Gn,children:[(0,i.jsx)(ti,{currency0:Q,currency1:J,badgeText:"v3",children:(0,i.jsx)(l.cC,{i18nKey:"migrate.lpNFT",values:{symA:Q.symbol,symB:J.symbol}})}),(0,i.jsx)(fe,{feeAmount:oe,handleFeePoolSelect:re,currencyA:Q,currencyB:J}),pe&&(0,i.jsxs)(d.Pj,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsx)(_n,{color:z.neutral1,style:{marginBottom:"12px",opacity:.8}}),(0,i.jsx)(Nt.T.DeprecatedBody,{fontSize:14,style:{marginBottom:8,fontWeight:535,opacity:.8},textAlign:"center",children:(0,i.jsx)(l.cC,{i18nKey:"migrate.firstLP",values:{source:q?"SushiSwap":"V2"}})}),(0,i.jsx)(Nt.T.DeprecatedBody,{fontWeight:"$medium",textAlign:"center",fontSize:14,style:{marginTop:"8px",opacity:.8},children:(0,i.jsx)(l.cC,{i18nKey:"migrate.highGasCost"})}),me&&(0,i.jsx)(m.Tz,{gap:"sm",style:{marginTop:"12px"},children:(0,i.jsx)(Le.m0,{children:(0,i.jsxs)(Nt.T.DeprecatedBody,{fontWeight:535,fontSize:14,children:[(0,i.jsx)(l.cC,{i18nKey:"migrate.symbolPrice",values:{protocolName:q?"SushiSwap":"V2",tokenSymbol:Ie?J.symbol:Q.symbol}})," ",Ie?`${null===(P=me)||void 0===P||null===(j=P.invert())||void 0===j?void 0:j.toSignificant(6)} ${Q.symbol}`:`${null===(C=me)||void 0===C?void 0:C.toSignificant(6)} ${J.symbol}`]})})})]}),ve?(0,i.jsxs)(d.U2,{children:[(0,i.jsxs)(m.Tz,{gap:"sm",children:[(0,i.jsxs)(Le.m0,{children:[(0,i.jsx)(Nt.T.DeprecatedBody,{fontSize:14,children:(0,i.jsx)(l.cC,{i18nKey:"migrate.symbolPrice",values:{protocolName:q?"SushiSwap":"V2",tokenSymbol:Ie?J.symbol:Q.symbol}})}),(0,i.jsx)(Nt.T.DeprecatedBlack,{fontSize:14,children:Ie?`${null===(w=me)||void 0===w||null===(E=w.invert())||void 0===E?void 0:E.toSignificant(6)} ${Q.symbol}`:`${null===(k=me)||void 0===k?void 0:k.toSignificant(6)} ${J.symbol}`})]}),(0,i.jsxs)(Le.m0,{children:[(0,i.jsxs)(Nt.T.DeprecatedBody,{fontSize:14,children:["V3 ",Ie?J.symbol:Q.symbol," ",K("common.price"),":"]}),(0,i.jsx)(Nt.T.DeprecatedBlack,{fontSize:14,children:Ie?`${null===(R=xe)||void 0===R||null===(O=R.invert())||void 0===O?void 0:O.toSignificant(6)} ${Q.symbol}`:`${null===(D=xe)||void 0===D?void 0:D.toSignificant(6)} ${J.symbol}`})]}),(0,i.jsxs)(Le.m0,{children:[(0,i.jsx)(Nt.T.DeprecatedBody,{fontSize:14,color:"inherit",children:(0,i.jsx)(l.cC,{i18nKey:"migrate.priceDifference"})}),(0,i.jsxs)(Nt.T.DeprecatedBlack,{fontSize:14,color:"inherit",children:[null===(L=he)||void 0===L?void 0:L.toSignificant(4),"%"]})]})]}),(0,i.jsx)(Nt.T.DeprecatedBody,{fontSize:14,style:{marginTop:8,fontWeight:485},children:(0,i.jsx)(l.cC,{i18nKey:"migrate.priceWarning"})})]}):!pe&&xe?(0,i.jsxs)(Le.m0,{children:[(0,i.jsx)(Nt.T.DeprecatedBody,{fontSize:14,children:(0,i.jsx)(l.cC,{i18nKey:"migrate.v3Price",values:{sym:Ie?J.symbol:Q.symbol}})}),(0,i.jsx)(Nt.T.DeprecatedBlack,{fontSize:14,children:Ie?`${null===(F=xe)||void 0===F||null===(N=F.invert())||void 0===N?void 0:N.toSignificant(6)} ${Q.symbol}`:`${null===(W=xe)||void 0===W?void 0:W.toSignificant(6)} ${J.symbol}`})]}):null,(0,i.jsxs)(Le.m0,{children:[(0,i.jsx)(Nt.T.DeprecatedLabel,{children:(0,i.jsx)(l.cC,{i18nKey:"migrate.setRange"})}),(0,i.jsx)(Ke,{currencyA:Ie?J:Q,currencyB:Ie?Q:J,handleRateToggle:()=>{$e(""),Me(""),_e((e=>e.equals(v)?f:v))}})]}),(0,i.jsx)(Fe,{priceLower:we,priceUpper:ke,getDecrementLower:Oe,getIncrementLower:Re,getDecrementUpper:De,getIncrementUpper:We,onLeftRangeInput:$e,onRightRangeInput:Me,currencyA:Ie?J:Q,currencyB:Ie?Q:J,feeAmount:oe,ticksAtLimit:Pe}),je?(0,i.jsx)(d.U2,{padding:"8px 12px",$borderRadius:"12px",children:(0,i.jsxs)(Le.m0,{children:[(0,i.jsx)(yn.Z,{stroke:z.deprecated_yellow3,size:"16px"}),(0,i.jsx)(U.xv,{color:"$yellow600",ml:12,fontSize:12,children:(0,i.jsx)(l.cC,{i18nKey:"migrate.positionNoFees"})})]})}):null,Te?(0,i.jsx)(d.U2,{padding:"8px 12px",$borderRadius:"12px",children:(0,i.jsxs)(Le.m0,{children:[(0,i.jsx)(yn.Z,{stroke:z.deprecated_yellow3,size:"16px"}),(0,i.jsx)(U.xv,{color:"$",ml:12,fontSize:12,children:(0,i.jsx)(l.cC,{i18nKey:"migrate.invalidRange"})})]})}):null,Ve?(0,i.jsx)(d.OY,{children:(0,i.jsxs)(m.Tz,{gap:"md",children:[(0,i.jsx)(ni,{token0Amount:Ve.amount0,token1Amount:Ve.amount1}),B.chainId&&Xe&&st?(0,i.jsx)(Nt.T.DeprecatedBlack,{fontSize:12,children:(0,i.jsx)(l.cC,{i18nKey:"migrate.refund",values:{amtA:Fn(Xe,4),symA:B.chainId&&(null===($=mt.Fl[B.chainId])||void 0===$?void 0:$.equals(v))?"ETH":v.symbol,amtB:Fn(st,4),symB:B.chainId&&(null===(M=mt.Fl[B.chainId])||void 0===M?void 0:M.equals(f))?"ETH":f.symbol}})}):null]})}):null,(0,i.jsxs)(m.Tz,{gap:"md",children:[Et||jt?null:(0,i.jsx)(m.Tz,{gap:"md",style:{flex:"1"},children:(0,i.jsx)(de.z,{isDisabled:ht!==Qe.NOT_APPROVED||null!==ft||!qe||!Ye||Te||dt,onPress:It,children:ht===Qe.PENDING?(0,i.jsx)(ze.bb,{children:(0,i.jsx)(l.cC,{i18nKey:"common.approving"})}):ht===Qe.APPROVED||null!==ft?(0,i.jsx)(l.cC,{i18nKey:"migrate.allowed"}):(0,i.jsx)(l.cC,{i18nKey:"migrate.allowLpMigration"})})}),(0,i.jsx)(m.Tz,{gap:"md",style:{flex:"1"},children:(0,i.jsx)(de.z,{isDisabled:!qe||!Ye||Te||ht!==Qe.APPROVED&&null===ft||dt||jt||Et,onPress:Ct,children:Et?"Success!":jt?(0,i.jsx)(ze.bb,{children:(0,i.jsx)(l.cC,{i18nKey:"migrate.migrating"})}):(0,i.jsx)(l.cC,{i18nKey:"common.migrate"})})})]})]})})]}):(0,i.jsx)(Be.A,{})}function ri(){var e,t,n,o,r,s,d;const{address:c}=(0,An.UO)(),u=(0,In.T)(),p=(0,An.s0)();(0,h.useEffect)((()=>(u((0,Ne.dA)()),()=>{u((0,Ne.dA)())})),[u]);const m=(0,X.m)(),x=(0,Rn.UJ)(c),v=(0,Ge.t0)(x||void 0),{data:f,isLoading:g}=(0,$n.N)({contracts:[{address:x||void 0,functionName:"token0",abi:Jn},{address:x||void 0,functionName:"token1",abi:Jn}]}),b=null===(e=f)||void 0===e?void 0:e[0].result,_=null===(t=f)||void 0===t?void 0:t[1].result,y=(0,Ue.dQ)(b),A=(0,Ue.dQ)(_),S=(0,h.useMemo)((()=>m.chainId&&x?new a.Token(m.chainId,x,18):void 0),[m.chainId,x]),I=(0,Sn.mM)(m.address,S),T=(0,st.$)(null===(n=m)||void 0===n?void 0:n.address,null===(o=S)||void 0===o?void 0:o.address,null===(r=y)||void 0===r?void 0:r.chainId),j=(0,dt.A)(S),[P,C]=(0,ot.u)({address:x||void 0,functionName:"getReserves",abi:Jn}).data??[],E=(0,h.useMemo)((()=>y&&P?a.CurrencyAmount.fromRawAmount(y,P.toString()):void 0),[y,P]),w=(0,h.useMemo)((()=>A&&C?a.CurrencyAmount.fromRawAmount(A,C.toString()):void 0),[A,C]),k="/migrate/v2",O=(0,h.useCallback)((()=>{p(k)}),[p]);return x&&v&&(!v||g||b||m.isConnecting)?(0,i.jsx)(wn.Z,{logImpression:!0,page:dn.vk.MigrateV2Pair,properties:{pool_address:x,chain_id:m.chainId,label:[null===(s=y)||void 0===s?void 0:s.symbol,null===(d=A)||void 0===d?void 0:d.symbol].join("/"),token0Address:b,token1Address:_},children:(0,i.jsx)(It.e,{style:{padding:24},children:(0,i.jsxs)("div",{className:Un,children:[(0,i.jsxs)("div",{className:zn,children:[(0,i.jsx)(Ht.Z,{p:"$spacing6",borderRadius:"$rounded8",onPress:O,hoverable:!0,hoverStyle:{backgroundColor:"$backgroundHover"},children:(0,i.jsx)(Pn.E,{direction:"w",color:"$neutral1",size:Cn._.icon24})}),(0,i.jsx)(Mn.MigrateHeader,{children:(0,i.jsx)(l.cC,{i18nKey:"migrate.v2Title"})}),(0,i.jsx)(xn,{autoSlippage:Qn,chainId:m.chainId})]}),m.isConnected&&T?I&&j&&E&&w&&y&&A?(0,i.jsx)(oi,{pairAddress:x,pairBalance:I,totalSupply:j,reserve0:E,reserve1:w,token0:y,token1:A}):(0,i.jsx)(ei,{message:(0,i.jsx)(l.cC,{i18nKey:"common.loading"})}):(0,i.jsx)(Nt.T.DeprecatedLargeHeader,{children:(0,i.jsx)(l.cC,{i18nKey:"migrate.connectAccount"})})]})})}):(ie.k.warn("MigrateV2Pair","MigrateV2Pair","Invalid pair address",{token0Address:b,token1Address:_,chainId:m.chainId}),(0,i.jsx)(An.Fg,{to:k,replace:!0}))}n(19752)},70768:(e,t,n)=>{n.d(t,{r:()=>o});var i=n(99233);const o=(0,n(97596).default)(i.Z).withConfig({displayName:"D:\\sunminyWorkspace\\interface\\apps\\web\\src\\theme\\components\\icons\\CautionTriangle__CautionTriangle",componentId:"sc-52160333-0"})`
  color: ${({theme:e})=>e.deprecated_accentWarning};
`}}]);
//# sourceMappingURL=8015.210c0571.chunk.js.map